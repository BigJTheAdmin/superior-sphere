---
import PageLayout from "@/layouts/Base.astro";

const titleMap = {
  "firewall-audit": "Thanks — Firewall Audit",
  "incident-retainer": "Thanks — Incident Retainer",
  "design-review": "Thanks — Design Review",
};

const pkg = Astro.url.searchParams.get("pkg") || "";
const hours = Astro.url.searchParams.get("hours");
const human = titleMap[pkg] || "Thanks — We’ve got your request";
const calendly = "https://calendly.com/javonpri/30min";
---

<PageLayout meta={{ title: human }}>
  <section class="wrap">
    <header class="hero">
      <h1>{human}</h1>
      <p class="kicker">You’re all set. Let’s book your time.</p>
    </header>

    <article class="card">
      {pkg === "firewall-audit" && (
        <>
          <p>We’ll complete your firewall review within <strong>48 hours</strong>.</p>
          <ul>
            <li>Have a <em>sanitized config export</em> or screenshots ready.</li>
            <li>We’ll deliver findings + remediation plan and do a 30-min readout.</li>
          </ul>
        </>
      )}

      {pkg === "incident-retainer" && (
        <>
          <p>We’ve reserved your incident block{hours ? ` (${hours} hours)` : ""}.</p>
          <ul>
            <li>We’ll spin up a war-room channel and begin triage immediately.</li>
            <li>Please have a change window and PoC available.</li>
          </ul>
        </>
      )}

      {pkg === "design-review" && (
        <>
          <p>We’ll deliver your design review in <strong>5–7 days</strong>.</p>
          <ul>
            <li>We’ll confirm goals/constraints and request a current diagram if available.</li>
          </ul>
        </>
      )}

      {!pkg && (
        <p>We’ve received your submission. Pick a time below so we can get started.</p>
      )}

      <div class="cta-row">
        <a class="btn primary" href={calendly}>Book Time Now</a>
        <a class="btn" href={link("">Back to Home</a>
      </div>
    </article>

    <section class="faq">
      <details>
        <summary>Didn’t get an email?</summary>
        <p>Check spam and add our address to your safe senders. If it’s missing, book a slot and we’ll confirm live.</p>
      </details>
      <details>
        <summary>Need to share files securely?</summary>
        <p>We’ll provide a private upload link during our call or via an encrypted request.</p>
      </details>
    </section>
  </section>

  <style>
    .wrap{padding:32px 1rem 60px}
    .hero{text-align:center;margin-bottom:12px}
    .kicker{color:#9aa0a6}
    .card{max-width:900px;margin:0 auto;background:#1b1b1b;border:1px solid #2a2a2a;border-radius:14px;padding:18px}
    .cta-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 14px;border-radius:10px;border:1px solid #2a2a2a;background:#212121;color:#e8eaed;text-decoration:none;font-weight:700}
    .btn.primary{background:linear-gradient(90deg,#22d3ee,#7c3aed);border:none;color:#051316}
    .faq{max-width:900px;margin:14px auto 0;display:grid;gap:8px}
    details{background:#151515;border:1px solid #2a2a2a;border-radius:10px;padding:10px 12px}
    summary{cursor:pointer;font-weight:700}
  </style>
</PageLayout>
